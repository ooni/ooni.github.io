<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="initial-scale=1,width=device-width"><title>Mining OONI data | OONI</title>
<link rel=canonical href=https://ooni.org/post/mining-ooni-data/><meta name=description content="OONI receives measurement data from OONI Probes around the world and processes it in real-time to detect censorship.
There are different ways to access the output of the processing: OONI Explorer, the OONI API and dumps of the PostgreSQL database.
OONI Explorer provides a user-friendly web interface to all visitors.
The OONI API is meant for developers and researches and allows searching for measurement metadata, fetching single measurements, and generating statistics."><meta property="og:title" content="Mining OONI data"><meta property="og:description" content="OONI receives measurement data from OONI Probes around the world and processes it in real-time to detect censorship.
There are different ways to access the output of the processing: OONI Explorer, the OONI API and dumps of the PostgreSQL database.
OONI Explorer provides a user-friendly web interface to all visitors.
The OONI API is meant for developers and researches and allows searching for measurement metadata, fetching single measurements, and generating statistics."><meta property="og:type" content="article"><meta property="og:url" content="https://ooni.github.io/post/mining-ooni-data/"><meta property="article:published_time" content="2021-08-24T00:00:00+00:00"><meta property="article:modified_time" content="2021-08-24T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Mining OONI data"><meta name=twitter:description content="OONI receives measurement data from OONI Probes around the world and processes it in real-time to detect censorship.
There are different ways to access the output of the processing: OONI Explorer, the OONI API and dumps of the PostgreSQL database.
OONI Explorer provides a user-friendly web interface to all visitors.
The OONI API is meant for developers and researches and allows searching for measurement metadata, fetching single measurements, and generating statistics."><link rel=stylesheet type=text/css href=https://ooni.github.io/css/bootstrap.min.0fa63041d1adce4ab1b63edefe88157bf5f5a3bd58abf6358e92b68b01d131c0.css><link rel=stylesheet type=text/css href=https://ooni.github.io/css/index.min.a73d0006e4d94a4799760881ae0dc944e6c5024aae2ef29b387102b5901c0653.css><link rel=icon type=image/png href=/images/favicon.png><script type=text/javascript src=https://cdn.jsdelivr.net/npm/ooni-run/dist/widgets.js defer></script><script type=text/javascript>var _paq=window._paq||[];_paq.push(["disableCookies"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){t="//matomo.ooni.org/",_paq.push(["setTrackerUrl",t+"matomo.php"]),_paq.push(["setSiteId","1"]);var t,n=document,e=n.createElement("script"),s=n.getElementsByTagName("script")[0];e.type="text/javascript",e.async=!0,e.defer=!0,e.src=t+"matomo.js",s.parentNode.insertBefore(e,s)}()</script><script async src=https://umami.ooni.org/script.js data-website-id=2c838f5f-ee4c-4d7c-80aa-c0a396ad1069></script></head><body><nav class="navbar mb-4" id=navbar><div class=container><div class="d-flex flex-column flex-lg-row"><div class="d-flex justify-content-between align-items-center"><div class=nav-menu-brand><a href=/><img src=/images/logos/ooni-horizontal.svg alt="OONI Logo"></a></div><button class="nav-menu-btn d-lg-none" id=menu-btn aria-label="Toggle the menu">
<img src=/images/menu-open.svg class="nav-menu-btn-icon nav-menu-btn-icon_open" alt="Open the menu">
<img src=/images/menu-close.svg class="nav-menu-btn-icon nav-menu-btn-icon_close" alt="Close the menu"></button></div><div class=nav-menu><div class="d-flex flex-column flex-lg-row align-items-start"><div class=nav-menu-item><a href=/about/>About</a></div><div class=nav-menu-item><a href=/nettest/>Tests</a></div><div class=nav-menu-item><a href=/data/>Data</a></div><div class=nav-menu-item><a href=/get-involved/>Get Involved</a></div><div class=nav-menu-item><a href=/reports/>Reports</a></div><div class=nav-menu-item><a href=/blog/>Blog</a></div><div class=nav-menu-item><a href=/donate/>Donate</a></div></div><div class=nav-menu-install><a href=/install/ class="btn explorer-button">Install OONI Probe</a></div></div></div></nav><script type=text/javascript>var navbar=document.getElementById("navbar"),menuBtn=document.getElementById("menu-btn");menuBtn.addEventListener("click",function(){navbar.classList.toggle("navbar_opened")})</script><div class=container><main class="blog-post col"><h1 class=article-title>Mining OONI data</h1><div class=byline><span class=author>Federico Ceratto</span>
<span class=date>2021-08-24</span></div><p>OONI receives measurement data from OONI Probes around the world and processes it in real-time to detect censorship.</p><p>There are different ways to access the output of the processing: <a href=https://explorer.ooni.org/>OONI Explorer</a>, the <a href=https://api.ooni.io/>OONI API</a> and
dumps of the PostgreSQL database.</p><p><a href=https://explorer.ooni.org/>OONI Explorer</a> provides a user-friendly web interface to all visitors.</p><p>The <a href=https://api.ooni.io/>OONI API</a> is meant for developers and researches and allows <a href=https://api.ooni.io/apidocs/#/default/get_api_v1_measurements>searching for
measurement metadata</a>, <a href=https://api.ooni.io/apidocs/#/default/get_api_v1_measurement_meta>fetching single measurements</a>, and <a href=https://api.ooni.io/apidocs/#/default/get_api_v1_aggregation>generating statistics</a>.
Hovever, it is not designed for large data transfers (i.e. extracting tens of thousands of measurements or many GB of data) and the API is rate limited.</p><p>The API uses a PostgreSQL database as its main data source. Regular dumps of the database will be made
available in the future.</p><p>Finally, researchers can access the raw measurement data from an S3 bucket. This can be used
to implement your own detection algorithms or to run our data processing tools on your own hardware.</p><p>We process and publish measurements in real-time to provide transparency. The methodology, alghoritms,
and software developed by us is also <a href=https://github.com/ooni/>published</a>.</p><p>We encourage researchers to replicate our findings.</p><p>Please <a href=/about/#contact>contact us</a> if you need any clarification or database dumps.</p><h2 id=accessing-raw-measurement-data>Accessing raw measurement data</h2><p>&ldquo;Raw measurement data&rdquo; refers to data structures uploaded by OONI Probes (run by volunteers worldwide) to the
processing pipeline.</p><p>Thanks to the <a href=https://aws.amazon.com/government-education/open-data/>Amazon Open Data program</a>, the whole OONI dataset
can be fetched from the <a href=https://ooni-data-eu-fra.s3.eu-central-1.amazonaws.com/><code>ooni-data-eu-fra</code> Amazon S3 bucket</a>.</p><p>A single chunk of data is called &ldquo;a measurement&rdquo; and its uncompressed size can vary between 1KB to 1MB, roughly.</p><p>Probes usually upload multiple measurements on each execution. Measurements are stored temporarily and then batched together, compressed and uploaded to the S3 bucket once every hour. To ensure transparency, incoming measurements go through basic content validation and the API returns success or error;
once a measurement is accepted it will be published on S3.</p><p>OONI measurements are also processed by the fastpath and made immediately available on OONI Explorer. See the &ldquo;receive_measurement&rdquo; function in the probe_services.py file in the API codebase for details.</p><p>Specifications of the raw measurement data can be found inside of the <a href=https://github.com/ooni/spec>ooni/spec</a> repository.</p><h2 id=file-paths-in-the-s3-bucket-in-jsonl-format>File paths in the S3 bucket in JSONL format</h2><p>Contains a JSON document for each measurement, separated by newline and compressed, for easy processing.
The path structure allows to easily select, identify and download data based on the researcher&rsquo;s needs.</p><p>In the path template:</p><ul><li><code>cc</code> is an uppercase <a href=https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2>2 letter country code</a></li><li><code>testname</code> is a test name where underscores are removed</li><li><code>timestamp</code> is a <code>YYYYMMDD</code> timestamp</li><li><code>name</code> is a unique filename</li></ul><h3 id=compressed-jsonl-from-measurements-before-20201021>Compressed JSONL from measurements before 20201021</h3><p>The path structure is: <code>s3://ooni-data-eu-fra/jsonl/&lt;testname>/&lt;cc>/&lt;timestamp>/00/&lt;name>.jsonl.gz</code></p><p>Example: <code>s3://ooni-data-eu-fra/jsonl/webconnectivity/IT/20200921/00/20200921_IT_webconnectivity.l.0.jsonl.gz</code></p><p>Listing JSONL files:</p><pre tabindex=0><code>s3cmd ls s3://ooni-data-eu-fra/jsonl/
s3cmd ls s3://ooni-data-eu-fra/jsonl/webconnectivity/US/20201021/00/
</code></pre><h3 id=compressed-jsonl-from-measurements-starting-from-20201020>Compressed JSONL from measurements starting from 20201020</h3><p>The path structure is: <code>s3://ooni-data-eu-fra/raw/&lt;timestamp>/&lt;hour>/&lt;cc>/&lt;testname>/&lt;ts2>_&lt;cc>_&lt;testname>.&lt;host_id>.&lt;counter>.jsonl.gz</code></p><p>Example: <code>s3://ooni-data-eu-fra/raw/20210817/15/US/webconnectivity/2021081715_US_webconnectivity.n0.0.jsonl.gz</code></p><p>Note: The path will be updated in the future to live under <code>/jsonl/</code></p><p>Listing JSONL files:</p><pre tabindex=0><code>s3cmd ls s3://ooni-data-eu-fra/raw/20210817/15/US/webconnectivity/
</code></pre><h2 id=raw-postcans-from-measurements-starting-from-20201020>Raw &ldquo;postcans&rdquo; from measurements starting from 20201020</h2><p>A &ldquo;postcan&rdquo; is tarball containing measurements as they are uploaded by the probes, optionally compressed.
Each HTTP POST is stored in the tarball as <code>&lt;timestamp>_&lt;cc>_&lt;testname>/&lt;timestamp>_&lt;cc>_&lt;testname>_&lt;hash>.post</code></p><p>Example: <code>s3://ooni-data-eu-fra/raw/20210817/11/GB/webconnectivity/2021081711_GB_webconnectivity.n0.0.tar.gz</code></p><p>Listing postcan files:</p><pre tabindex=0><code>s3cmd ls s3://ooni-data-eu-fra/raw/20210817/
s3cmd ls s3://ooni-data-eu-fra/raw/20210817/11/GB/webconnectivity/
</code></pre></main></div><footer class=p-4><div class=container><div class=row><div class="col-12 col-md-4"><div class=pb-2><img src=/images/logos/ooni-horizontal.svg height=32px alt="OONI Logo"></div><div class=pb-4>Global community measuring internet censorship around the world.</div><div><div>© 2022 Open Observatory of Network Interference (OONI)</div><div><a href=https://github.com/ooni/license>Content available under a Creative Commons
license.</a></div></div></div><div class="col-12 col-md-8"><div class=row><div class="mt-3 col-sm"><div class=footer-section-title>About</div><div class=pt-1><a href=/about/>OONI</a></div><div class=pt-1><a href=/about/data-policy/>Data Policy</a></div><div class=pt-1><a href=https://github.com/ooni/license/tree/master/data>Data
License</a></div><div class=pt-1><a href=/about/#contact>Contact</a></div></div><div class="mt-3 col-sm"><div class=footer-section-title>OONI Probe</div><div class=pt-1><a href=https://ooni.org/install/>Install</a></div><div class=pt-1><a href=https://ooni.org/nettest/>Tests</a></div><div class=pt-1><a href=https://github.com/ooni>Source code</a></div><div class=pt-1><a href=https://api.ooni.io/>API</a></div></div><div class="mt-3 col-sm"><div class=footer-section-title>Updates</div><div class=pt-1><a href=/post/>Blog</a></div><div class=pt-1><a href=https://lists.torproject.org/cgi-bin/mailman/listinfo/ooni-talk>Mailing list</a></div><div class=pt-1><a href=https://slack.ooni.org/>Slack</a></div><ul class="pt-1 footer-links-social"><li><a class=twitter href=https://twitter.com/OpenObservatory>Twitter (@OpenObservatory)</a></li><li><a class=youtube href=https://www.youtube.com/c/OONIorg>Youtube (OONIorg)</a></li><li><a class=facebook href=https://facebook.com/ooni.org>Facebook (ooni.org)</a></li><li><a class=instagram href=https://www.instagram.com/openobservatory/>Instagram (@OpenObservatory)</a></li><li><a class=mastodon rel=me href=https://mastodon.social/@ooni>Mastodon (@ooni@mastodon.social)</a></li></ul></div></div></div></div></div></footer></body></html>